<?xml version="1.0" encoding="UTF-8"?>

<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

	<!-- Define display/content information -->
		<xsl:output method="xml"/>
		<xsl:output indent="no"/>
		<xsl:output encoding="UTF-8"/>
		<xsl:output doctype-system="http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" doctype-public="-//W3C//DTD SVG 1.1//EN"/>
		<xsl:output media-type="image/svg+xml"/>
		<xsl:output omit-xml-declaration="no"/>

	<xsl:template match="/">

		<xsl:variable name="base" select="concat(/content/base_url,'cb/',/content/callback_code)"/>	

		<svg width="60" height="60" version="1.1" baseProfile="full" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" onload="init(evt)">

			<script type="text/javascript"><![CDATA[
				function init( evt ){
					try {
						alert('Wow. JavaScript hidden inside SVG\'s executes in your email client. That\'s a potentially serious security problem. Please contact me using the form at https://grepular.com/contact about this.');
					} catch(e){}
				}
			]]></script>

			<text x="0" y="0" style="background-image:url('{$base}/svg_background_img')"></text>
		</svg>
            	 
	</xsl:template>

</xsl:stylesheet>
